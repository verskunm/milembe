!function(t,e){for(var n in e)t[n]=e[n]}(window,function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://assets.allegrostatic.com/opbox-message-center-header/",n(n.s=0)}({0:function(t,e,n){t.exports=n("O14P")},O14P:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}n.r(e);var i={withCredentials:!0,headers:{Accept:"application/vnd.allegro.public.v1+json","Content-Type":"application/json"}},s=function(){function t(e){r(this,t);var n=e.opbox.edge;this.edge=n}return a(t,[{key:"getThreads",value:function(){return this.edge.get("/message-center/threads?limit=10",i)}}]),t}();function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},h=RegExp(Object.keys(d).join("|"),"g"),v=function(){function t(e,n){r(this,t),this._parts=e,this._subs=n}return a(t,[{key:"_escapeHtml",value:function(e){return e instanceof t?e:Array.isArray(e)?(null==(o="")&&(o=","),(r=e).length<=0?new v([""],[]):new v([""].concat(function(t){if(Array.isArray(t))return l(t)}(n=Array(r.length-1).fill(o))||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(n)||f(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[""]),r)):(e+"").replace(h,(function(t){return d[t]}));var n,r,o}},{key:"toString",value:function(){var t=this;return this._parts.reduce((function(e,n,r){var o=t._subs[r-1];return e+t._escapeHtml(o)+n}))}},{key:"inspect",value:function(){return"".concat(this.constructor.name," '").concat(this.toString(),"'")}}]),t}();function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new v(t,n)}var m=n("R0yb"),y={"pl-PL":{"log in to see your messages":[["",["Zaloguj się, aby zobaczyć swoje wiadomości."]]],"log in":[["",["Zaloguj"]]],"show all":[["",["Pokaż wszystkie"]]],"you have no message":[["",["Nie masz wiadomości"]]],"in the message center, you'll see your conversations with sellers about their offers, delivery time and product availability.":[["",["W Centrum Wiadomości zobaczysz swoje rozmowy ze sprzedawcami na temat ich ofert, czasu dostawy oraz dostępności produktów."]]],"something went wrong...":[["",["Coś poszło nie tak..."]]],"unfortunately we could not view your messages.":[["",["Niestety nie mogliśmy wyświetlić Twoich wiadomości."]]],from:[["",["od"]]],to:[["",["do"]]]}},_=/({{[^}]+}}|{%[^%}]+%})/g,g=/({{[^}]+}})/g,b=/({%[^%}]+%})/g,w=/({{\s*|\s*}}|{%\s*|\s*%})/g;function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.find((function(t){return t[0]===e}))[1]}var j=function(t,e,n){var r=y["pl-PL"][t];if(!r)throw Error('Missing translation for lang "pl-PL" and key "'.concat(t,'"'));return e?function(t,e,n){var r,o=x(t,e.context);return function(t,e,n){if(n){var r=0;return t.split(_).map((function(n){if(n.match(b)){var o=e.formatters[r];if(o)return r+=1,o(n.replace(w,""));throw Error('Missing translation formatter for "'.concat(t,'"'))}return n.match(g)?e[n.replace(w,"")]:n}))}var o=t.match(_),a=0;return o?o.reduce((function(n,r){var o=r.replace(w,"");if(r.match(b)){var i=e.formatters[a];if(i)return a+=1,n.replace(r,i(o));throw Error('Missing translation formatter for "'.concat(t,'"'))}return r.match(g)?n.replace(r,e[o]):n}),t):t}(o=parseInt(e.count,10)>=0?function(t,e){var n,r=1==(n=e)?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2;return"boolean"!=typeof r?t[r]:t[r?1:0]}(o,e.count):(r=o,function(t){if(Array.isArray(t))return t}(r)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),1!==n.length);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(r)||f(r,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],e,n)}(r,e,n):x(r)[0]};function k(){var t=c(['<div class="','"><p class="','">','</p><p class="','" data-role="error-info" data-analytics-enabled data-item data-analytics-view-label="inboxErrorShow">',"</p></div>"]);return k=function(){return t},t}function z(){var t=c(['<div class="','"><p class="','">','</p><p class="','" data-role="no-messages-info">',"</p></div>"]);return z=function(){return t},t}function O(){var t=c(['<div class="','"><div class="','"><div class="','">','</div></div><div class="','"><a class="','" href="','" data-role="show-all-button" data-analytics-clickable data-analytics-click-label="showMoreClick">',"</a></div></div>"]);return O=function(){return t},t}function q(){var t=c(['<ul class="','" data-role="threads-list">',"</ul>"]);return q=function(){return t},t}function M(){var t=c(['<li class="'," ",'"><a href="',"/thread/",'" class="','" data-role="show-single-button" data-analytics-clickable data-analytics-click-label="threadClick" data-analytics-click-value="click-thread-','">','<div class="','"><p class="','">',"",'</p><span class="','">','<p class="','">',"</p></span></div></a></li>"]);return M=function(){return t},t}function C(){var t=c(["&nbsp;"]);return C=function(){return t},t}function S(){var t=c(['<svg class="','"><image xlink:href="https://assets.allegrostatic.com/metrum/icon/arrow-u-turn-b66cf828ae.svg" width="100%" height="100%"/></svg>']);return S=function(){return t},t}function A(){var t=c(['<p class="','">'," ","</p>"]);return A=function(){return t},t}function P(){var t=c(['<img class="','" src="','" alt="" />']);return P=function(){return t},t}function T(){var t=c(['<div class="','"><p class="','">','</p><a href="','" class="','" rel="nofollow" data-role="login-button" data-analytics-clickable data-analytics-click-label="loginClick">',"</a></div>"]);return T=function(){return t},t}var E=n.n(m)()(null,"pl");function I(t){var e="/login/auth?origin_url=".concat(encodeURIComponent(t.location));return p(T(),"_u5o1q _w6d6d _1cdi1 _7qjq4 _1yfhn","_1h7wt _9hx3e _1vryf",j("log in to see your messages"),e,"_13q9y _8tsq7 _xuk25 _7d0d9_1kQmO",j("log in"))}var L=function(){function t(e,n,o,a,i){var s=this;r(this,t),u(this,"onOpen",(function(){s.root.removeEventListener("inViewport",s.onOpen,!1),s.api.getThreads().then(s.onResponse).catch(s.onError)})),u(this,"onResponse",(function(t){var e,n=t.data;s.services&&s.services.get("opbox-notification-service").then((function(t){return t.reset("messageCenter")})),e=0===n.threads.length?p(z(),"_17qy1 _1a6ks _1yfhn _7d0d9_U8HlA","_1s2v1 _hf7gl _1vryf",j("you have no message"),"_1h7wt _9hx3e _1vryf",j("in the message center, you'll see your conversations with sellers about their offers, delivery time and product availability.")):function(t,e){var n=t.threads,r=e.messageCenterBasePath,o=function(t,e){var n=t.filter((function(t){return null!==t.interlocutor})).map((function(t,n){return function(t,e,n){var r=t.lastMessage,o=r&&!r.author.isInterlocutor,a=t.lastMessage?t.lastMessage.text:p(C());return p(M(),"_fv0n5 _ssa1o _1bo4a _7d0d9_1hzs9",!1===t.read?"_7d0d9_4iush":"",e,t.id,"_kz8jr _1ou8e _1wnoy _7qjq4 _1fwkl _7d0d9_1yL0L",n,function(t){return p(P(),"_7d0d9_39eFM",t.interlocutor.avatarUrl.replace("original","s128b"))}(t),"_qdoeh _l7nkx _nyhhx _r6475 _7d0d9_17-B-","_1h7wt _9hx3e _1vx3o _7d0d9_3pYuJ",o?p(S(),"_7d0d9_1lGUl"):"",a,"_yxrn4 _1bo4a _7qjq4 _7d0d9_2RrhG",function(t){var e="z",n=t.lastMessage;return n&&(e=n.author.isInterlocutor?j("from"):j("to")),p(A(),"_1h7wt _1dd5x _1vryf _7d0d9_1P2Kl",e,t.interlocutor.login)}(t),"_1h7wt _1dd5x _1vryf _7d0d9_2T4LR",E(new Date(t.lastMessageDateTime)))}(t,e,n)}));return p(q(),"_1rj80 _1sql3",n.map((function(t){return new v([t+""],[])})))}(n,r);return p(O(),"_1bo4a _xu6h2 _7qjq4","_1jnsr _1fwkl _7d0d9_TCabK","_1ga21 _180tx _qdoeh _l7nkx _1rcax _nyhhx _r6475 _7d0d9_3RiS5",o,"_7qjq4 _7d0d9_24079","_13q9y _8hkto _7qjq4 _7d0d9_TNvmu",r,j("show all"))}(n,s.parameters),s.setContent(e)})),u(this,"onError",(function(t){var e=401===t.status?I(s.window):p(k(),"_17qy1 _1a6ks _1yfhn _7d0d9_U8HlA","_1s2v1 _hf7gl _1vryf",j("something went wrong..."),"_1h7wt _9hx3e _1vryf",j("unfortunately we could not view your messages."));s.setContent(e)})),u(this,"setContent",(function(t){s.content.innerHTML=t})),this.window=e,this.services=i,this.api=n,this.root=o,this.content=o.querySelector("#mc-header-component"),this.parameters=a}return a(t,[{key:"initialize",value:function(){this.parameters.isAuthenticated?this.root.addEventListener("inViewport",this.onOpen,!1):this.setContent(I(this.window))}}]),t}(),R=function(){function t(e){var n=e.baseNode,o=e.props,a=e.services;r(this,t),this.baseNode=n,this.props=o,this.services=a}return a(t,[{key:"onMount",value:function(){this.messageCenterInbox=new L(window,new s(window),this.baseNode,this.props.parameters,this.services),this.messageCenterInbox.initialize()}}]),t}();window.opbox.component.register({prototypeName:"allegro.messageCenter.header"},R)},R0yb:function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pl";return function(n){return""+a(Math.floor(((t||new Date)-n)/1e3),e)}},Object.freeze({pl:1,en:2});var n=Object.freeze({month:function(t){return 1===t?"1 miesiąc temu":t>=2&&t<=4?t+" miesiące temu":t>=5&&t<=11?t+" miesięcy temu":12===t?"rok temu":"ponad rok temu"},day:function(t){return t+" "+(1===t?"dzień":"dni")+" temu"},hour:function(t){return 1===t?t+" godzinę temu":t>10&&t<22?t+" godzin temu":t%10>1&&t%10<5?t+" godziny temu":t+" godzin temu"},minute:function(t){return t<=0?"przed chwilą":1===t?t+" minutę temu":t>1&&t<5?t+" minuty temu":t>=10&&t<20?t+" minut temu":t%10>1&&t%10<5?t+" minuty temu":t+" minut temu"}}),r=Object.freeze({month:function(t){return 1===t?"1 month ago":t<12?t+" months ago":12===t?"1 year ago":"over a year ago"},day:function(t){return t+" "+(1===t?"day":"days")+" ago"},hour:function(t){return 1===t?t+" hour ago":t+" hours ago"},minute:function(t){return t<=0?"a moment ago":1===t?t+" minute ago":t+" minutes ago"}}),o=Object.freeze({pl:n,en:r});function a(t,e){var n=o[e];if(t>=2592e3){var r=Math.round(t/2592e3);return n.month(r)}if(t>=86400){var a=Math.floor(t/86400);return n.day(a)}if(t>=3600){var i=Math.floor(t/3600);return n.hour(i)}var s=Math.floor(t/60);return n.minute(s)}}])},t.exports=r()}}));
//# sourceMappingURL=index-pl-PL_30d7e30d.js.map