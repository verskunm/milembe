!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://assets.allegrostatic.com/opbox-advertisement-box/",n(n.s=0)}({0:function(e,t,n){e.exports=n("O14P")},O14P:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e){var t=[],n=new Map;return e.searchParams.forEach((function(e,i){if(n.has(i)){var o=n.get(i),r=t[o][1];t[o]="string"==typeof r?[i,[r,e]]:[i,[].concat(a(r),[e])]}else n.set(i,t.push([i,e])-1)})),t}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=t.location.href;return c(new URL(e||n))}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"===l(Symbol.iterator)?function(e){return l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":l(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?f(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}n.r(t);var y=n("wOJ8"),g=n.n(y),b=function(){},w=function(e){m(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,i=v(e);if(t()){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}(n);function n(){var e;return i(this,n),(e=t.call(this)).slots=[],e.enable=b,e.setPageTargeting=b,e}return r(n,[{key:"addSlots",value:function(e){var t;(t=this.slots).push.apply(t,a(e))}},{key:"refresh",value:function(e){e.forEach((function(e){e.displayAdblockFallback().then((function(t){e.rendered(!t)}))}))}},{key:"registerSlot",value:function(){return{getResponseInformation:function(){return{fallback:!0}}}}}]),n}(g.a);function k(e){if(Array.isArray(e))return e}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function E(e,t){return k(e)||function(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||S()}var x=function(e){var t=document.cookie;if(!t)return e?void 0:{};var n=t.split("; ").reduce((function(e,t){var n=t.split("="),i=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);return e[i]=o,e}),{});return e?n[e]:n},N=function(){function e(){var t;i(this,e),this.publisherProvidedId=""===(t=x("_cmuid"))?null:t}return r(e,[{key:"isSet",value:function(){var e=this.publisherProvidedId;return Boolean(e)&&36===e.length}},{key:"id",get:function(){return this.publisherProvidedId}}]),e}(),C=new(function(){function e(t){i(this,e),this.categories=t||[]}return r(e,[{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0&&(this.categories=e)}},{key:"get",value:function(){return this.categories}}]),e}()),P=function(e){m(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,i=v(e);if(t()){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}(n);function n(e){var o;i(this,n);var r,s=e.googletag,a=s.pubads(),c=new N;a.disableInitialLoad(),a.enableSingleRequest(),a.collapseEmptyDivs(!0),a.setForceSafeFrame(!0),a.setCentering(!0),a.setSafeFrameConfig({allowOverlayExpansion:!0,allowPushExpansion:!0,sandbox:!0}),1===(!(null===(r=function(){var e=x("gdpr_permission_given");try{return JSON.parse(e)}catch(e){return null}}())||!["string","number"].includes(d(r)))&&Number(r))?c.isSet()&&a.setPublisherProvidedId(c.id):a.setRequestNonPersonalizedAds(1),(o=t.call(this)).googletag=s,o.service=a,o.slots=[];var u=function(e,t){return a.addEventListener(e,(function(e){var n=o.findSlot(e.slot);n&&t(n,e)}))};return u("impressionViewable",(function(e){"advertisementABTest"!==e.implementationVariant&&o.emit("slotView",e)})),u("slotOnload",(function(e){o.emit("slotLoaded",e),"advertisementABTest"===e.implementationVariant&&o.emit("slotView",e)})),u("slotRenderEnded",(function(e,t){return o.emit(t.isEmpty?"slotEmpty":"slotRendered",e)})),u("slotVisibilityChanged",(function(e,t){var n=t.inViewPercentage;return o.emit(n>50?"slotVisible":"slotHidden",e)})),e.addEventListener("blur",(function(){return setTimeout((function(){var t=e.document.activeElement;if(t&&"IFRAME"===t.nodeName){var n=o.slots.find((function(e){return t===e.node.querySelector("iframe")}));n&&o.emit("slotClick",n)}}),0)})),o}return r(n,[{key:"findSlot",value:function(e){return this.slots.find((function(t){return t.slot===e}))}},{key:"addSlots",value:function(e){var t;(t=this.slots).push.apply(t,a(e))}},{key:"enable",value:function(e){var t=this.googletag;t.enableServices(),e.forEach((function(e){return t.display(e.tagId)}))}},{key:"refresh",value:function(e,t){var n=e.map((function(e){return e.slot}));this.service.refresh(n,t)}},{key:"setPageTargeting",value:function(e){var t=e.profile,n=e.queryParams,i=e.completeness,o=void 0===i?100:i,r=this.service,s=C.get();r.clearTargeting(),t&&t.getSignificantTraits().forEach((function(e){return r.setTargeting(e.name,e.value)})),s&&s.length&&r.setTargeting("cat",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return t.length>20?e:e.concat([t])}),[])}(s).join("_")),n&&n.forEach((function(e){var t=E(e,2),n=t[0],i=t[1];return r.setTargeting("q_"+n,i)})),"number"==typeof o&&r.setTargeting("completeness",o.toFixed(0));try{r.setTargeting("traceId",window.opbox.config.cookieMonster.defaultCustomParams.pv.traceId)}catch(e){}}},{key:"registerSlot",value:function(e){var t=this.googletag,n=this.service,i=e.unitPath,o=e.size,r=e.tagId,s=e.sizeMapping,a=e.targeting,c=t.defineSlot(i,o,r).addService(n);if(s&&s.length){var u=t.sizeMapping();s.forEach((function(e){return u.addSize(e.viewport,e.sizes)})),c.defineSizeMapping(u.build())}return Object.keys(a).forEach((function(e){return c.setTargeting(e,a[e])})),c}}]),n}(g.a);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(){return window&&window.opbox&&window.opbox.analytics},R=function(e){var t=e.contextNode,n=e.action,i=e.value,o=void 0===i?"":i,r=e.customParams,s=void 0===r?{}:r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;L()&&a.opbox.analytics.sendEvent(t,n,o,s)};function I(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function T(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};I(n,!0).forEach((function(t){O(e,t,n[t])}))}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):I(n).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))}));return e}var V=function(e){return Array.isArray(e)?e[0]:e.width},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getAdUnitPath;return"function"==typeof t},z=function(e){return e.reduce((function(e,t){var n=t.isHeaderBidding,i=t.sizeMapping,o=void 0===i?[]:i,r=t.headerBidding,s=void 0===r?[]:r,a=t.unitPath,c=t.targeting,u=t.size,l=function(e,t){var n=t.sort((function(e,t){return V(t.viewport)-V(e.viewport)})).find((function(e){var t=e.viewport;return window.document.documentElement.clientWidth>=V(t)})),i=n&&n.sizes?n.sizes:[];return e.reduce((function(e,t){var n=t.bidder,o=t.params,r=t.size,s=Boolean(r),a=!s,c=s&&i.map((function(e){return V(e)})).includes(V(r));return e.concat(a||c?[{bidder:n,params:o}]:[])}),[])}(s,o);return e.concat(n&&"1"!==c.ertc?[{code:a,mediaTypes:{banner:{sizes:u}},bids:(l||s).map((function(e){return{bidder:e.bidder.name,params:e.params.reduce((function(e,t){return T({},e,O({},t.key,t.value))}),{})}}))}]:[])}),[])},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,n){var i=n.slot,o=void 0===i?{}:i,r=_(o)?o.getAdUnitPath():"";return Boolean(t.find((function(e){return e.code===r})))?e.concat([n]):e}),[])},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,n){var i=n.slot,o=void 0===i?{}:i,r=_(o)?o.getAdUnitPath():"";return t.find((function(e){return e.code===r}))?e:e.concat([n])}),[])};function j(e,t){var n=t.window,i=t.api,o=t.initedAds,r=t.consentConfig,s=n.pbjs,a=n.pbjsData,c=void 0===a?{}:a,u=c.prebidConfig,l=void 0===u?{}:u,d=c.bidderSettings,f=void 0===d?{}:d,h=c.prebidTimeout,v=void 0===h?1e3:h,p=z(e),m=function(e){var t=e.map((function(e){return e.tagId})).join("&");o.isInitiated(t)||(o.init(t),n.googletag.cmd.push((function(){s.que.push((function(){s.setTargetingForGPTAsync(),i.refresh(e)}))})))};p.length>0&&(s.que.push((function(){s.addAdUnits(p),s.setConfig(T({},l,{},r)),s.requestBids({bidsBackHandler:function(){m(e)}})})),s.bidderSettings=f,n.setTimeout((function(){m(e)}),v))}function F(e,t){var n=t.api,i=t.window.pbjs,o=z(e);e.forEach((function(e){var t=e.slot,r=void 0===t?{}:t;if(_(r)){var s=r.getAdUnitPath(),a=o.find((function(e){return s===e.code}));a&&(Object.assign(i.adUnits.find((function(e){return s===e.code})),{bids:a.bids}),i.que.push((function(){i.requestBids({adUnitCodes:[s],bidsBackHandler:function(){i.setTargetingForGPTAsync([s]),n.refresh([e])}})})))}}))}var q=function(){function e(){i(this,e),this.ads={}}return r(e,[{key:"isInitiated",value:function(e){return Boolean(this.ads[e])}},{key:"init",value:function(e){this.ads[e]=!0}}]),e}(),M=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];i(this,e),this.api=n,this.window=t,this.initializedAdverts=new q,this.firstSlotNode=o.length?o[0]:null,this.firstSlotNode&&this.initAnalytics()}return r(e,[{key:"refresh",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.api,i=this.window.pbjs,o=e.reduce((function(e,t){return e.concat(t.isHeaderBidding?[t]:[])}),[]),r=e.reduce((function(e,t){return e.concat(t.isHeaderBidding?[]:[t])}),[]);r.length>0&&n.refresh(r,t),i&&o.length>0&&(F(A(o,i&&i.adUnits),{api:n,window:this.window}),j(B(o,i&&i.adUnits),{api:n,initedAds:this.initializedAdverts,window:this.window,consentConfig:{consentManagement:{gdpr:{cmpApi:"iab",timeout:1e3,allowAuctionWithoutConsent:!1}}}}))}},{key:"getBidResponsesForAdUnitCode",value:function(e){return this.window.pbjs.getBidResponsesForAdUnitCode(e)}},{key:"initAnalytics",value:function(){var e=this,t=this.window.pbjs;try{t.onEvent("bidRequested",(function(t){var n=t.bids,i={bids:(void 0===n?[]:n).map((function(e){return{adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidder:e.bidder,bidId:e.bidId,sizes:e.sizes}}))};R({contextNode:e.firstSlotNode,action:"prebid",value:"bidRequested",customParams:i},e.window)})),t.onEvent("bidResponse",(function(t){var n=t.adId,i=t.adUnitCode,o=t.auctionId,r=t.bidder,s=t.currency,a=t.cpm,c=t.timeToRespond,u=t.adServerTargeting,l=(u=void 0===u?{}:u).hb_pb,d=u.hb_size,f=e.getBidResponsesForAdUnitCode(i).bids,h={adId:n,adUnitCode:i,auctionId:o,bidder:r,bids:(void 0===f?[{}]:f).map((function(e){return{bidder:e.bidder,statusMessage:e.statusMessage,cpm:e.cpm,currency:e.currency,size:e.size}})),cpm:a,currency:s,timeToRespond:c,hb_pb:l,hb_size:d};R({contextNode:e.firstSlotNode,action:"prebid",value:"bidResponse",customParams:h},e.window)})),t.onEvent("bidWon",(function(t){var n=t.adId,i=t.adUnitCode,o=t.auctionId,r=t.bidder,s=t.cpm,a=t.currency,c=t.timeToRespond,u=t.adServerTargeting,l=(u=void 0===u?{}:u).hb_pb,d=u.hb_size,f=e.getBidResponsesForAdUnitCode(i).bids,h={adId:n,adUnitCode:i,auctionId:o,bidder:r,bids:(void 0===f?[{}]:f).map((function(e){return{bidder:e.bidder,statusMessage:e.statusMessage,cpm:e.cpm,currency:e.currency,size:e.size}})),cpm:s,currency:a,timeToRespond:c,hb_pb:l,hb_size:d};R({contextNode:e.firstSlotNode,action:"prebid",value:"bidWon",customParams:h},e.window)})),t.onEvent("bidTimeout",(function(t){var n={bids:t.map((function(e){return{adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidder:e.bidder,bidId:e.bidId,timeout:e.timeout}}))};R({contextNode:e.firstSlotNode,action:"prebid",value:"bidTimeout",customParams:n},e.window)}))}catch(e){console.error("Initialization of prebid nga events didn't success because of error: ".concat(e))}}}]),e}();function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Event",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=document.createEvent(n);o.initEvent(e,!0,!0),Object.assign(o,i),t.dispatchEvent(o)}function H(e){return k(e)||s(e)||S()}var U,D,G,J=function(e,t){var n=0;return function(){for(var i=[],o=arguments.length;o--;)i[o]=arguments[o];var r=Date.now();n+t<=r&&(n=r,e.apply(void 0,i))}},X=(U={},{get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"allKeys",t={};return"allKeys"===e&&Object.assign(t,U),U[e]&&Object.assign(t,U[e]),t},set:function(e){return Object.assign(U,e)}}),K=function(){function e(){i(this,e),this.observers=[]}return r(e,[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter((function(t){return t!==e}))}},{key:"notify",value:function(e){this.observers.forEach((function(t){return t(e)}))}}]),e}(),Y=function(){function e(t,n){var o=this;i(this,e),this.slot=t,this.window=n,this.document=n.document,t.isScalable&&(this.resizeListiner=J((function(){return o.scaleCreationIfNeeded()}),100),t.on("refreshed",(function(){return o.disable()})),t.on("rendered",(function(){return o.enable()}))),t.scaleGroup&&(this.resizeListiner=function(){return o.resizeEvent()},t.on("loaded",(function(){var e=o.slot.scaleGroup;e&&n.oabScaleGroup[e].subscribe((function(){return o.newScale()})),o.newScale()}))),n.oabScaleGroup||Object.assign(n,O({},"oabScaleGroup",{})),n.oabScaleGroup[this.slot.scaleGroup]||Object.assign(n.oabScaleGroup,O({},this.slot.scaleGroup,new K))}return r(e,[{key:"enable",value:function(){var e=this.slot,t=this.resizeListiner,n=e.node,i=e.tagId,o=!e.scaleGroup;this.scale=1,this.originalWidth=n.offsetWidth,this.originalHeight=n.offsetHeight,this.containerNode=n.parentNode,window.addEventListener("resize",this.resizeListiner),window.addEventListener("rotatorShown",this.resizeListiner);var r=function(e){n.querySelector("iframe").contentWindow.postMessage(e,"*")};e.on("hidden",(function(){return r({tagId:i,isVisible:!1})})),e.on("visible",(function(){return r({tagId:i,isVisible:!0})})),e.on("loaded",(function(){return r({tagId:i,banner:!0})})),window.addEventListener("message",(function(t){var i=t.data;i&&i.tagId===e.tagId&&W("slot-media",n,"Event",{isPlaying:i.isPlaying})})),o&&t()}},{key:"disable",value:function(){!this.slot.scaleGroup&&window.removeEventListener("resize",this.resizeListiner),window.removeEventListener("rotatorShown",this.resizeListiner)}},{key:"calculateScale",value:function(){var e=this.containerNode,t=this.originalWidth,n=null===e.offsetParent,i=e.offsetWidth,o=i-t<0?i/t:1;return n?0:o>1?1:o}},{key:"scaleCreation",value:function(e){var t=this.slot,n=this.containerNode,i=this.originalHeight,o=t.node;o&&(o.style.transform="scale(".concat(e,")")),n&&(n.style.height="".concat(e*i,"px")),this.scale=e}},{key:"resizeEvent",value:function(e){var t=this.slot,n=t.tagId,i=t.scaleGroup,o=t.node,r=t.boxName,s=t.boxNode,a=t.originalHeight,c=this.calculateScale(),u=getComputedStyle(s.parentNode),l=(e||{timeStamp:0}).timeStamp;i&&X.set(O({},i,Object.assign(X.get(i),O({},n,{node:o,name:r,width:u.getPropertyValue("max-width"),timeStamp:l,calcScale:c,baseScale:c,currentScale:c,height:a}))));var d=X.get(i),f=H(Object.keys(d).map((function(e){return d[e]}))),h=f[0],v=f.slice(1);[h].concat(Array.isArray(v)?v:[v]).reduce((function(e,t){return t?e.concat([t]):e}),[]).reduce((function(e,t){var n=t.timeStamp,i=void 0===n?0:n;return h.timeStamp===i&&e}),!0)&&window.oabScaleGroup[this.slot.scaleGroup].notify()}},{key:"newScale",value:function(){var e=this.slot,t=X.get(e.scaleGroup),n=H(Object.keys(t).map((function(e){return t[e]}))),i=n[0],o=n.slice(1),r=[i].concat(Array.isArray(o)?o:[o]).reduce((function(e,t){return t?e.concat([t]):e}),[]).reduce((function(e,t){return"100%"!==t.width&&e}),!0)?Math.max.apply(Math,a(Object.keys(t).map((function(e){return t[e].baseScale})))):t[this.slot.tagId].baseScale;this.scaleCreation(r)}},{key:"scaleCreationIfNeeded",value:function(){var e=this.slot,t=this.containerNode,n=this.scale,i=this.originalWidth,o=this.originalHeight,r=e.node,s=null===t.offsetParent,a=t.offsetWidth,c=a-i;if(!s)if(0===a)r.style.transform="",t.style.height="auto",this.scale=1;else if(c<0||n<1){var u=c<0?a/i:1;r.style.transform="scale(".concat(u,")"),t.style.height="".concat(u*o,"px"),this.scale=n}}}]),e}(),Z=function(e){return J(e,100)},Q=function(e,t,n){var i=e.getAttribute("class").replace(t,n),o=function(e,t,n){return new Promise((function(t,i){new MutationObserver((function(e,i){e.forEach((function(e){var o="class"===e.attributeName,r=e.target.getAttribute(e.attributeName);o&&r.includes(n)&&(i.disconnect(),t())}))})).observe(e,{attributes:!0}),window.setTimeout((function(){return i()}),100)}))}(e,0,n);return e.setAttribute("class",i),o},$=(D=document.createElement("div"),G="clipPath".replace(/^./,(function(e){return e.toUpperCase()})),!["webkit","moz","ms","o"].map((function(e){return"".concat(e).concat(G)})).reduce((function(e,t){return""===D.style[t]?e.concat([t]):e}),["clipPath"]).reduce((function(e,t){var n=D.style;return""===n[t]&&(n[t]="polygon(50% 0%, 0% 100%, 100% 100%)","polygon(50% 0%, 0% 100%, 100% 100%)"===n[t])||e}),!1)),ee=function(){function e(t,n){var o=this;i(this,e),this.slot=t,this.window=n,this.document=n.document,this.pageContent=this.document.querySelector(".main-wrapper"),this.pageContentWrapper=this.pageContent.parentElement,this.parallaxVisible=!1,this.resizeListiner=Z((function(){return o.scaleCreation()})),this.scrollListiner=Z((function(){return o.checkVisibility()})),this.parallaxHeight=400,$&&(this.slot.node.style.zIndex=-1),t.once("initialized",(function(){return o.takeBoxOutOfContent()})),t.on("refreshed",(function(){return o.disable()})),t.on("loaded",(function(){return o.enable()}))}return r(e,[{key:"enable",value:function(){var e=this.slot,t=e.node,n=E(e.size,1),i=E(n[0],1)[0],o=t.querySelector('div[id^="google_ads_iframe"]'),r=o.offsetWidth||i;0!==r?($&&this.setStaticParallax(),this.originalWidth=r,this.originalRatio=o.offsetHeight/r,this.creationNode=o,window.addEventListener("scroll",this.scrollListiner),window.addEventListener("resize",this.resizeListiner),this.scaleCreation(),this.checkVisibility()):this.disable()}},{key:"disable",value:function(){window.removeEventListener("scroll",this.scrollListiner),window.removeEventListener("resize",this.resizeListiner),this.slot.node.parentNode.style.height="auto"}},{key:"setStaticParallax",value:function(){var e=this,t=this.slot.boxNode.querySelector(".".concat("_2f981_6VWVO")),n=this.slot.boxNode.querySelector(".".concat("_2f981_1C1cr"));Promise.all([Q(n,"_2f981_1C1cr","_2f981_3ZV1R"),Q(t,"_2f981_6VWVO","_2f981_quv82")]).then((function(){e.slot.node.style.zIndex=0})).catch((function(){e.disable()}))}},{key:"checkVisibility",value:function(){var e=this.window,t=this.document,n=this.pageContent.getBoundingClientRect().bottom<=(e.innerHeight||t.documentElement.clientHeight);this.parallaxVisible!==n&&(this.parallaxVisible=n,this.slot.node.querySelector("iframe").contentWindow.postMessage({parallaxVisible:n},"*"))}},{key:"takeBoxOutOfContent",value:function(){this.pageContentWrapper.appendChild(this.slot.boxNode)}},{key:"scaleCreation",value:function(){var e=this.document,t=this.originalRatio,n=this.originalWidth,i=this.creationNode,o=e.body.clientWidth||0,r=o/n;i.style.transform="scale(".concat(r,")");var s=Math.floor(t*o);this.slot.node.parentNode.style.height="".concat(s,"px"),this.parallaxHeight=s}}]),e}(),te=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.pbjs,r=n.time,s=void 0===r?2e4:r,a=n.slot,c=n.window;i(this,e),O(this,"refreshFunc",(function(){t.window.googletag.display(t.slot.tagId),t.slot.markToRefresh(),Object.assign(t.slot,{isLoaded:!0}),t.api.refresh([t.slot])})),O(this,"visibilityChangeListener",(function(){t.document[t.hiddenProperty]?t.pause():t.unpause()})),O(this,"blurListener",(function(){t.pause(),t.bindWindowFocusEvent(),t.unbindWindowBlurEvent()})),O(this,"focusListener",(function(){t.unpause(),t.unbindWindowFocusEvent(),t.bindWindowBlurEvent()})),this.api=o.api,this.time=s,this.slot=a,this.window=c,this.document=c.document,this.refreshTimeValue=.5,this.elapsedTime=0,this.startTime=0,this.timeoutId=null,this.refreshDelay=1e3,this.hiddenProperty=null,this.visibilityChangeName=null,this.getHiddenProperty(),this.bindSlotEvents(),this.refresh=J(this.refreshFunc,this.refreshDelay)}return r(e,[{key:"getHiddenProperty",value:function(){var e=this.document;"hidden"in e?(this.hiddenProperty="hidden",this.visibilityChangeName="visibilitychange"):"msHidden"in e?(this.hiddenProperty="msHidden",this.visibilityChangeName="msvisibilitychange"):"webkitHidden"in e&&(this.hiddenProperty="webkitHidden",this.visibilityChangeName="webkitvisibilitychange")}},{key:"start",value:function(){this.isStarted||(this.bindVisibilityEvents(),this.startCounting())}},{key:"stop",value:function(){this.startTime=0,this.elapsedTime=0,this.clearTimeout(),this.unbindVisibilityEvents()}},{key:"pause",value:function(){this.isCounting&&(this.clearTimeout(),this.elapsedTime=e.now()-this.startTime)}},{key:"unpause",value:function(){this.isPaused&&(this.shouldBeRefreshed?this.stopCounting():this.startCounting())}},{key:"startCounting",value:function(){var t=this;this.startTime=e.now(),this.timeoutId=setTimeout((function(){return t.stopCounting()}),this.remainingTime)}},{key:"stopCounting",value:function(){this.stop(),this.refresh()}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearTimeout(this.timeoutId),this.timeoutId=null}))},{key:"bindSlotEvents",value:function(){var e=this;this.slot.on("visible",(function(){return e.isPaused?e.unpause():e.start()})),this.slot.on("hidden",(function(){e.pause()}))}},{key:"bindVisibilityEvents",value:function(){this.bindVisibilityChangeEvent(),this.bindWindowBlurEvent()}},{key:"unbindVisibilityEvents",value:function(){this.unbindVisibilityChangeEvent(),this.unbindWindowBlurEvent()}},{key:"bindVisibilityChangeEvent",value:function(){this.document.addEventListener(this.visibilityChangeName,this.visibilityChangeListener)}},{key:"unbindVisibilityChangeEvent",value:function(){this.document.removeEventListener(this.visibilityChangeName,this.visibilityChangeListener)}},{key:"bindWindowBlurEvent",value:function(){this.window.addEventListener("blur",this.blurListener)}},{key:"bindWindowFocusEvent",value:function(){this.window.addEventListener("focus",this.focusListener)}},{key:"unbindWindowBlurEvent",value:function(){this.window.removeEventListener("blur",this.blurListener)}},{key:"unbindWindowFocusEvent",value:function(){this.window.removeEventListener("focus",this.focusListener)}},{key:"remainingTime",get:function(){return this.time-this.elapsedTime}},{key:"shouldBeRefreshed",get:function(){return this.remainingTime<=this.refreshTimeValue*this.time}},{key:"isCounting",get:function(){return Boolean(this.timeoutId)}},{key:"isPaused",get:function(){return!this.isCounting&&this.isStarted}},{key:"isStarted",get:function(){return Boolean(this.startTime)||Boolean(this.elapsedTime)}}]),e}();O(te,"now",(function(){return Date.now()}));var ne,ie,oe=te,re=n("xxrt"),se=function(){},ae=function(e){return J(e,100)},ce={parallax:ee,skyscroll:function(){function e(t,n,o,r){var s=this;i(this,e),this.slot=t,this.window=n,this.document=n.document,this.sidebarNode=null,this.footerNode=null,this.removeOnScrollHandler=se,this.removeOnResizeHandler=se,this.activeMode=1,r&&r.autoRefresh&&o&&o.api&&Object.keys(o.api).includes("service")&&(this.refreshController=new oe({slot:t,window:n,pbjs:o})),t.on("loaded",(function(){return s.tryActivate()}))}return r(e,[{key:"tryActivate",value:function(){var e=this.document;e.documentElement.clientWidth<1024||(this.sidebarNode=e.querySelector(".layout__left-content")||this.slot.boxNode.parentNode,this.footerNode=e.querySelector(".site-footer")||e.querySelector('[data-box-name="metrum-footer-partial"]')||e.querySelector('[data-box-name="layout.container.footer"]'),this.setupScroll(),this.setupAutodisable())}},{key:"setupScroll",value:function(){var e=this,t=this.window,n=ae((function(){return e.updatePosition()}));t.addEventListener("scroll",n),this.updatePosition(),this.removeOnScrollHandler=function(){return t.removeEventListener("scroll",n)}}},{key:"setupAutodisable",value:function(){var e=this,t=this.window,n=this.document,i=ae((function(){n.documentElement.clientWidth<1024&&e.disable()}));t.addEventListener("resize",i),this.removeOnResizeHandler=function(){return t.removeEventListener("resize",i)}}},{key:"disable",value:function(){this.slot.boxNode.style.position="static",this.removeOnScrollHandler(),this.removeOnResizeHandler()}},{key:"updatePosition",value:function(){var e=this.slot,t=this.isSidebarAboveViewport()&&!this.isFooterVisible()?0:1;if(this.activeMode!==t){this.activeMode=t;var n=e.boxNode.style,i=!document.querySelector(".headroom--top"),o=0===t?"fixed":"static",r="fixed"===o&&i;n.position=o,n.top="".concat(r?55:0,"px"),e.boxNode.classList[r?"add":"remove"](re.a)}}},{key:"isSidebarAboveViewport",value:function(){var e=this.sidebarNode;return!!e&&e.getBoundingClientRect().bottom<0}},{key:"isFooterVisible",value:function(){var e=this.window,t=this.document,n=this.footerNode;return!!n&&n.getBoundingClientRect().top<=(e.innerHeight||t.documentElement.clientHeight)}}]),e}(),default:Y},ue=(O(ne={},"banner","gtp-container--banner"),O(ne,"parallax","_2f981_3_-hL"),O(ne,"skyscroll","_2f981_1-spG"),ne);O(ie={},"banner","_2f981_2SC4-"),O(ie,"parallax","_2f981_2U-bh"),O(ie,"skyscroll","slot--skyscroll");var le=function(e){m(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,i=v(e);if(t()){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}(n);function n(e,o,r){var s;i(this,n);var a=e.tagId,c=e.format,u=e.pageCompleteness,l=e.pageCategory,d=e.sizeMapping,h=e.unitPath,v=e.targeting,p=e.size,m=e.headerBidding,y=void 0===m?[]:m,g=e.scaleGroup,b=e.autoRefresh,w=e.isVideo,k=e.implementationVariant,S=r.api;return(s=t.call(this)).slot=S.registerSlot(e),s.tagId=a,s.boxNode=o,s.node=o.querySelector(".".concat("_2f981_6VWVO")),s.containerNode=o.querySelector(".".concat(ue[c])),s.boxName=o.getAttribute("data-box-name"),s.isLoaded=!1,s.isLazy=e.isLazy,s.isHeaderBidding=Boolean(y.length),s.headerBidding=y,s.isScalable=e.isScalable,s.fallback=e.fallback,s.fallbackOnBlockOnly=e.fallbackOnBlockOnly,s.performanceMark=e.performanceMark,s.sizeMapping=d,s.unitPath=h,s.targeting=v,s.size=p,s.isVideo=w,s.scaleGroup=g,s.format=c,s.category=l,s.pageCompleteness=u,s.behaviour=function(e,t,n,i){return new(ce[e]||ce.default)(t,window,n,i)}(c,f(s),r,{autoRefresh:b}),s.boxNode.setAttribute("data-slot-initialized","true"),s.onFallbackClick=function(){S.emit("slotFallbackClick",f(s))},s.onFallbackView=function(){S.emit("slotFallbackView",f(s))},s.emit("initialized"),s.slotHideClass="_2f981_9mEm0",s.implementationVariant=k,s}return r(n,[{key:"rendered",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.emit("rendered"),W("slot-rendered",this.boxNode,"Event",{isEmpty:e}),this[e?"hideNode":"showNode"]()}},{key:"loaded",value:function(){var e=!!this.performanceMark,t=window.performance&&"function"==typeof window.performance.mark;e&&t&&window.performance.mark(this.performanceMark),this.emit("loaded")}},{key:"refreshed",value:function(){this.emit("refreshed")}},{key:"visible",value:function(){this.emit("visible")}},{key:"hidden",value:function(){this.emit("hidden")}},{key:"hideNode",value:function(){this.node.classList.add(this.slotHideClass)}},{key:"showNode",value:function(){this.node.classList.remove(this.slotHideClass)}},{key:"markToRefresh",value:function(){this.isLoaded=!1,this.containerNode.className=this.containerNode.className.replace("lazyloaded","lazyload")}},{key:"getDetails",value:function(){return this.slot.getResponseInformation()}},{key:"isUnveiled",value:function(){return!this.isLazy||-1!==this.containerNode.className.indexOf("lazyloaded")}},{key:"shouldBeLoaded",value:function(){return!this.isLoaded&&(!this.isLazy||this.isUnveiled())}},{key:"markLoaded",value:function(){return this.isLoaded=!0,this}},{key:"hasFallback",value:function(){var e=this.fallback;return!(!e||!e.imageUrl)}},{key:"removeFallback",value:function(){var e=this.containerNode,t=e.querySelector(".".concat("ad-fallback-link"));t&&e.removeChild(t)}},{key:"displayAdblockFallback",value:function(){return this.displayFallback(!0)}},{key:"displayFallback",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.fallback,i=this.fallbackOnBlockOnly,o=this.containerNode;return!this.hasFallback()||i&&!t?Promise.resolve(!1):(this.removeFallback(),new Promise((function(t){var i=n.imageUrl,r=n.linkUrl,s=n.imageAlt,a=document.createElement("img");a.onload=function(){return t(!0)},a.onerror=function(){return t(!1)},a.src=i,a.alt=s;var c=document.createElement("a");c.className="ad-fallback-link",c.href=r,c.target="_blank",c.appendChild(a),c.addEventListener("click",(function(){return e.onFallbackClick()})),e.onFallbackView(),o.appendChild(c)})))}}]),n}(g.a),de="".concat("dfpVideo","-analytics"),fe="".concat("dfpVideo","-fullScreenButton"),he="".concat("dfpVideo","-error"),ve="".concat("dfpVideo","-status"),pe="".concat("dfpVideo","-action"),me="".concat("dfpVideo","-init"),ye="".concat("dfpVideo","-pause-video"),ge="".concat("dfpVideo","-play-video"),be="".concat("dfpVideo","-run-fullscreen"),we="".concat("dfpVideo","-exit-fullscreen"),ke=null,Se=function(e,t,n){var i=window.googletag.pubads().getSlots().find((function(e){return e.getSlotElementId()===t})).getResponseInformation(),o=i.advertiserId,r=i.campaignId,s=i.creativeId,a=i.lineItemId;R({contextNode:n,action:"dfpVideo",value:e.name,customParams:{advertiserId:o,campaignId:r,creativeId:s,lineItemId:a}},window)},Ee=new(function(){function e(){return i(this,e),ke||(this.observers=[],ke=this,this.addEvents()),ke}return r(e,[{key:"addEvents",value:function(){var e=this;window.addEventListener("scroll",(function(t){e.notify(t)}),!1),window.addEventListener("message",(function(t){var n=t.data,i=n.type,o=void 0===i?"":i,r=n.props,s=n.tagId;if(o.includes("dfpVideo")){var a=e.observers.find((function(e){return e.tagId===s}));if(a){var c=a.boxNode,u=a.slot;switch(o){case de:Se({name:"Status: ".concat(r.message)},s,c);break;case fe:!r.enabled&&document.fullscreenElement&&window.document.exitFullscreen(),r.coordination&&a.setFullscreenButton(r.coordination);break;case he:Se({name:"Error: ".concat(r.message)},s,c);break;case ve:Se({name:"Status: ".concat(r.message)},s,c);break;case pe:if(!u)return;"playing"===r.action&&(u.canResumeVideo=!0),["paused","stopped"].includes(r.action)&&(u.canResumeVideo=!1)}}}}),!1)}},{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.reduce((function(t,n){return n.tagId!==e?t.concat([n]):t}),[])}},{key:"notify",value:function(e){this.observers.forEach((function(t){var n=t.onScroll;t.slot.canResumeVideo&&n(e)}))}}]),e}()),xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"banner";return{banner:function(){var t=e.boxNode.querySelector("iframe");if(t){var n=t.getBoundingClientRect(),i=n.top;n.height+i<0||i-window.innerHeight>0?t.contentWindow.postMessage({type:ye},"*"):t.contentWindow.postMessage({type:ge},"*")}},parallax:function(){var t=e.boxNode.querySelector("iframe");if(t){var n=t.getBoundingClientRect().height,i=window,o=i.document,r=i.innerHeight,s=i.scrollY,a=.5*n;o.body.offsetHeight-r-a>s?t.contentWindow.postMessage({type:ye},"*"):t.contentWindow.postMessage({type:ge},"*")}},skyscroll:function(){var t=e.boxNode.querySelector("iframe");if(t){var n=t.getBoundingClientRect().top;e.behaviour.isFooterVisible()||n-window.innerHeight>0?t.contentWindow.postMessage({type:ye},"*"):t.contentWindow.postMessage({type:ge},"*")}}}[t]},Ne=function(e){m(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,i=v(e);if(t()){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return r(n,[{key:"loaded",value:function(){var e=!!this.performanceMark,t=window.performance&&"function"==typeof window.performance.mark;e&&t&&window.performance.mark(this.performanceMark),this.initVideo(),this.emit("loaded")}},{key:"initVideo",value:function(){var e=this.boxNode.querySelector("iframe"),t=E(this.size[0],2),n=t[0],i=t[1];this.canResumeVideoFlag=!1,e.contentWindow.postMessage({type:me,props:{tagId:this.tagId}},"*"),"parallax"!==this.format&&(this.boxNode.style.width="".concat(n,"px"),this.boxNode.style.height="".concat(i,"px"),this.boxNode.style.position="relative"),this.setVideoSupport()}},{key:"setVideoSupport",value:function(){var e=this;this.fullscreenButton=document.createElement("p"),this.fullscreenButton.classList.add("_2f981_26aib");var t=this.format,n=this.slot,i=this.tagId,o=this.boxNode,r=this.node,s=this.setFullscreenButton,a=this.fullscreenButton;Ee.subscribe({slot:n,tagId:i,boxNode:o,node:r,setFullscreenButton:s,fullscreenButton:a,onScroll:xe(this,t)}),this.boxNode.appendChild(this.fullscreenButton),this.fullscreenButton.addEventListener("click",(function(){var t=e.boxNode.querySelector("iframe");document.fullscreenElement?document.exitFullscreen():(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen(),t.contentWindow.postMessage({type:be},"*"))}),!1);var c=function(t){"fullscreenchange"!==(t||window.event).type||document.fullscreenElement||e.boxNode.querySelector("iframe").contentWindow.postMessage({type:we},"*")};document.addEventListener&&(document.addEventListener("webkitfullscreenchange",c,!1),document.addEventListener("mozfullscreenchange",c,!1),document.addEventListener("fullscreenchange",c,!1),document.addEventListener("MSFullscreenChange",c,!1))}},{key:"setFullscreenButton",value:function(e){var t=e.top,n=e.left,i=e.width,o=e.height;this.fullscreenButton.style.height="".concat(o,"px"),this.fullscreenButton.style.width="".concat(i,"px"),this.fullscreenButton.style.top="".concat(t,"px"),this.fullscreenButton.style.left="".concat(n,"px"),this.fullscreenButton.style.display="block"}},{key:"canResumeVideo",set:function(e){this.canResumeVideoFlag=e},get:function(){return this.canResumeVideoFlag}}]),n}(le),Ce=function(){function e(t){i(this,e),this.unitPath=t.unitPath,this.tagId=t.tagId,this.format=t.format,this.targeting=t.targeting||{},this.fallback=t.fallback,this.fallbackOnBlockOnly=t.fallbackOnBlockOnly,this.headerBidding=t.headerBidding,this.scaleGroup=t.scaleGroup,this.size=t.size,this.sizeMapping=t.sizeMapping,this.pageCategory=t.pageCategory,this.isLazy=t.isLazy,this.isVideo=t.isVideo,this.isScalable=t.isScalable,this.pageCompleteness=t.pageCompleteness,this.performanceMark=t.performanceMark,this.autoRefresh=t.autoRefresh,this.alignment=t.alignment,this.implementationVariant=t.implementationVariant}return r(e,[{key:"serialize",value:function(){return JSON.stringify(this)}}],[{key:"parse",value:function(t){try{return new e(JSON.parse(t))}catch(e){return null}}}]),e}(),Pe=function(){function e(t,n){i(this,e),this.name=t,this.value=n}return r(e,[{key:"isPositive",value:function(){var e=this.value;return!!e&&"0"!==e&&"0.0"!==e}},{key:"isShort",value:function(){var e=this.value;return!!e&&e.length<20}},{key:"isNotJson",value:function(){var e=this.value;return!!e&&"["!==e[0]&&"{"!==e[0]}},{key:"isSignificant",value:function(){return this.isPositive()&&this.isShort()&&this.isNotJson()}}]),e}(),Oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.traits=Object.keys(t).map((function(e){return new Pe(e,t[e])}))}return r(e,[{key:"getTraits",value:function(){return this.traits}},{key:"getSignificantTraits",value:function(){return this.getTraits().filter((function(e){return e.isSignificant()}))}}],[{key:"fetch",value:function(){return void 0===e.provider?Promise.resolve(new e):new Promise((function(t){e.provider.get((function(n){var i=(n.profile||{}).traits;t(new e(i))}))}))}}]),e}();Oe.provider=window.pl_allegro_user_profile;var Le,Re,Ie=Oe,Te='[data-prototype-id="'.concat("allegro.advertisement.slot",'"]'),Ve=function(){function e(t,n){i(this,e),this.window=t,this.detectBlocker=n,this.profilePromise=null,this.api=null,this.pbjs=null}return r(e,[{key:"init",value:function(e){var t=this.window,n=this.detectBlocker;t.opboxAdBoxInitialized||(t.opboxAdBoxInitialized=!0,this.api=n(t)?new w:new P(t),this.pbjs=new M(t,this.api,e),this.setupApi(),this.collectSlots(e),this.startSlotsDetection())}},{key:"collectSlots",value:function(e){var t=this,n=this.window.document,i=this.pbjs,o=e||n.querySelectorAll(Te);if(o.length){var r=Array.from(o,(function(e){var t=e.querySelector("script"),n=t&&t.textContent;if(e.getAttribute("data-slot-initialized")||!n)return!1;var o=Ce.parse(n),r=o.isVideo;return C.set(o.pageCategory),r?new Ne(o,e,i):new le(o,e,i)})).filter(Boolean);r.length>0&&(i.api.addSlots(r),this.profilePromise||(this.profilePromise=Ie.fetch()),this.profilePromise.then((function(e){t.setupInitial(e,r),t.setupReloading(e,r)})))}}},{key:"startSlotsDetection",value:function(){var e=this,t=this.window,n=t.document,i=t.Node;new(0,t.MutationObserver)((function(t){var n=!1;t.filter((function(e){return"childList"===e.type})).every((function(e,t){var o=e.addedNodes[t]||{nodeType:-1};return o.nodeType!==i.ELEMENT_NODE||"allegro.advertisement.slot"!==o.getAttribute("data-prototype-id")&&!o.querySelector(Te)||(n=!0,!1)})),n&&e.collectSlots()})).observe(n,{childList:!0,attributes:!1,characterData:!1,subtree:!0})}},{key:"setupApi",value:function(){var e=this.api;e.on("slotLoaded",(function(e){return e.loaded()})),e.on("slotRendered",(function(e){e.removeFallback(),e.rendered()})),e.on("slotEmpty",(function(e){e.displayFallback().then((function(t){return e.rendered(!t)}))})),e.on("slotView",(function(e){R({contextNode:e.node,action:"itemView",customParams:e.getDetails()})})),e.on("slotClick",(function(e){e.isVideo||R({contextNode:e.node,action:"click",customParams:e.getDetails()})})),e.on("slotFallbackView",(function(e){var t=e.node,n=e.fallback;R({contextNode:t,action:"itemView",customParams:Object.assign({fallback:!0},n)})})),e.on("slotFallbackClick",(function(e){var t=e.node,n=e.fallback;R({contextNode:t,action:"click",customParams:Object.assign({fallback:!0},n)})})),e.on("slotVisible",(function(e){return e.visible()})),e.on("slotHidden",(function(e){return e.hidden()}))}},{key:"setupInitial",value:function(e,t){var n=this.api,i=this.window,o=this.pbjs,r=t[t.length-1],s=i.document;n.setPageTargeting({profile:e,queryParams:u(),completeness:r.pageCompleteness}),n.enable(t);var a=t.filter((function(e){return e.shouldBeLoaded()})).map((function(e){return e.markLoaded()}));a.length&&o.refresh(a),s.addEventListener("lazybeforeunveil",(function(e){var n=e.target,i=void 0===n?{className:""}:n,r=i.className;if(Object.keys(ue).some((function(e){return r.includes(e)}))){var s=t.find((function(e){return e.containerNode===i}));s&&!s.isLoaded&&(s.refreshed(),o.refresh([s],{changeCorrelator:!1}),s.isLoaded=!0)}}))}},{key:"setupReloading",value:function(e,t){var n=this,i=this.window.opbox.onData;if("function"==typeof i){var o="";t.forEach((function(r){return i(r.boxName,(function(i){var r=n.getPageUrl();if(o!==r){var s=i.categoryData,a=void 0===s?{path:[]}:s,c=i.pageCompleteness,l=a.path.filter((function(e){return e==e})).map((function(e){return e.id}));C.set(l),o=r,n.api.setPageTargeting({completeness:c,pageUrl:r,profile:e,queryParams:u(r)}),t.forEach((function(e){e.markToRefresh();var t=e.behaviour,n=(t=void 0===t?{}:t).refreshController;n instanceof oe&&n.stop()}));var d=t.filter((function(e){return e.isUnveiled()}));d.forEach((function(e){Object.assign(e,{isLoaded:!0}),e.refreshed()})),d.length&&n.pbjs.refresh(d)}}))}))}}},{key:"getPageUrl",value:function(){return this.window?this.window.location.href:""}}]),e}(),_e=function(e){requestAnimationFrame((function(){requestAnimationFrame((function(){return e()}))}))},ze={NEXT:Symbol("next"),PREV:Symbol("prev")},Ae=(O(Le={},ze.NEXT,"następna"),O(Le,ze.PREV,"poprzednia"),O(Re={},ze.NEXT,"next"),O(Re,ze.PREV,"prev"),Re),Be=function(e){m(n,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,i=v(e);if(t()){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}(n);function n(e,o,r){var s;return i(this,n),(s=t.call(this)).window=e,s.node=o,s.loaded=null,s.exposureTime=r,s.slotSlideNewCurrentClass="_2f981_2irgk",s.slotSlideCurrentClass="_2f981_3PTbN",s.slotSlideNewCurrentShowClass="_2f981_3eWCH",s}return r(n,[{key:"load",value:function(){var e=this;return this.loaded||(this.loaded=new Promise((function(t){var n=e.node;!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=void 0!==a&&a,u=function e(t){r.call(i,t),i.removeEventListener(o,e)};i.addEventListener(o,u,s||c)}(n,"slot-rendered",(function(e){var n=e.isEmpty;return t(!n)})),n.classList.add("".concat(e.slotSlideNewCurrentClass))}))),this.loaded}},{key:"show",value:function(){var e=this;return this.load().then((function(t){return!!t&&new Promise((function(t){var n=e.node,i=e.slotSlideNewCurrentClass,o=e.slotSlideNewCurrentShowClass;!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0],o=t[1],r=t[2],s=t[3],a=t[4],c=function e(){r.apply(i,t),i.removeEventListener(o,e)};i.addEventListener(o,c,s,a)}(n,"transitionend",(function(){var r=n.classList,s=e.slotSlideCurrentClass;t(!0);var a=n.parentNode.querySelector(".".concat(s));a&&a.classList.remove("".concat(s)),r.add("".concat(s)),r.remove("".concat(i)),r.remove("".concat(o)),e.emit("show:after")})),n.classList.add("".concat(i)),W("rotatorShown",e.window),_e((function(){return n.classList.add("".concat(o))}))}))}))}},{key:"hide",value:function(){this.node.classList.remove("".concat(this.slotSlideCurrentClass))}},{key:"destroy",value:function(){var e=this.node;e.parentNode.removeChild(e)}}]),n}(g.a),je=function(){function e(t,n,o){var r=this;i(this,e),this.window=t,this.node=n,this.config=o,this.placeholder=n.querySelector(".".concat("_2f981_3GAF7"));var s=o.exposeTimes,a=Array.from(n.querySelectorAll(".".concat("_2f981_2_rUW")),(function(e,n){return new Be(t,e,s[n])}));this.items=a,this.current=null,this.inTransition=null,this.hasFocus=!1,this.hasInteraction=!1,this.slotRotatorNavClass="_2f981_hzucS",this.slotRotatorNavActiveClass="_2f981_3-GcW",this.slotRotatorHideClass="_2f981_39scp",a.forEach((function(e){return e.once("show:after",(function(){return r.hidePlaceholder()}))})),this.showNext(),n.addEventListener("mouseenter",(function(){r.hasFocus=!0,r.stopAutoPlay()})),n.addEventListener("mouseleave",(function(){r.hasFocus=!1,r.startAutoPlay()})),n.addEventListener("slot-media",(function(e){r.hasInteraction=e.isPlaying,r.startAutoPlay()})),this.bindButtons()}return r(e,[{key:"stopAutoPlay",value:function(){clearTimeout(this.autoplayTimer)}},{key:"startAutoPlay",value:function(){var e=this;this.stopAutoPlay(),this.hasInteraction||this.hasFocus||this.current&&this.items.length>1&&(this.autoplayTimer=setTimeout((function(){return e.showNext()}),this.getExposeTime()),this.checkNavigation())}},{key:"bindButtons",value:function(){var e=this,t=this.config,n=this.node;if(t.hasNavigation){var i=this.slotRotatorNavClass;Object.keys(ze).map((function(e){return Ae[ze[e]]})).map((function(e){return{action:e,node:n.querySelector(".".concat(i,".").concat(e))}})).forEach((function(t){var n=t.action,i=t.node;i.addEventListener("click",(function(){e.stopAutoPlay(),e.showNext({reverse:"prev"===n}),R({contextNode:i,action:"boxInteraction",value:"".concat(n,"ArrowClick")})}))}))}}},{key:"getExposeTime",value:function(){return this.current.exposureTime}},{key:"hidePlaceholder",value:function(){var e=this.placeholder;e&&(e.parentNode.removeChild(e),this.placeholder=null)}},{key:"removeItem",value:function(e){var t=this.items,n=t.indexOf(e);e.destroy(),t.splice(n,1),t.length||this.hide()}},{key:"checkNavigation",value:function(){var e=this.items,t=this.node,n=this.config.hasNavigation,i=this.slotRotatorNavActiveClass;if(n){var o=e.length>1?"add":"remove";t.classList[o](i)}}},{key:"showNext",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.reverse,i=void 0!==n&&n,o=this.current,r=this.inTransition,s=this.items,a=(s.length+(s.indexOf(o)+(i?-1:1)))%s.length,c=this.items[a];c&&c!==o&&c!==r&&(this.inTransition=c,c.show().then((function(t){e.inTransition=null,t?(o&&o.hide(),e.current=c,e.startAutoPlay()):(e.removeItem(c),e.showNext({reverse:i})),e.checkNavigation()})))}},{key:"hide",value:function(){var e=this.node,t=e.style;t.height="".concat(e.offsetHeight,"px"),e.classList.add(this.slotRotatorHideClass),e.addEventListener("transitionend",(function(n){n.target===e&&(t.display="none")})),_e((function(){t.height="0"}))}}]),e}();function Fe(e){return function(e){var t=e.googletag;return!t||void 0===t.apiReady||!(!t.apiReady||""!==t.getVersion())}(e)||function(e){var t=e.document,n=e.document.body,i=t.createElement("div"),o=i.style;o.width="1px",o.height="1px",i.id="gpt-advert-test",n.appendChild(i);var r=0===i.offsetHeight;return n.removeChild(i),r}(e)}function qe(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}var Me=function(){function e(t){i(this,e),this.autoScroll=!0,this.hasNavigation=t.hasNavigation,this.hasPlaceholder=t.hasPlaceholder,this.reservedSpace=t.reservedSpace,this.exposeTimes=t.exposeTimes||[],this.slots=t.slots}return r(e,[{key:"normalize",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++)if(t%2){var n=null!=arguments[t]?arguments[t]:{};qe(n,!0).forEach((function(t){O(e,t,n[t])}))}else Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(arguments[t])):qe(n).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(arguments[t],n))}));return e}({},this);return delete e.slots,JSON.stringify(e)}}],[{key:"parse",value:function(e){try{return JSON.parse(e)}catch(e){return null}}}]),e}(),We=function(e,t){return We=function(){},t()};window.opbox.component.init({prototypeName:"allegro.advertisement.slot"},(function(e){var t=e.domNodes,n=new Ve(window,Fe);window.googletag.cmd.push((function(){return We("google",(function(){return n.init(t)}))})),window.addEventListener("load",(function(){return We("load",(function(){return n.init(t)}))}))})),window.opbox.component.init({prototypeName:"allegro.advertisement.rotator"},(function(e){var t=e.domNodes,n=[];t.forEach((function(e){var t=e.querySelector(".".concat("_2f981_2J3tj")),i=e.querySelector(".".concat("slot-rotator-conf"));if(t&&i){var o=Me.parse(i.textContent);n.push(new je(window,t,o))}}))}))},wOJ8:function(e,t){function n(){}n.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function o(){i.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,s=i.length;r<s;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},xxrt:function(e){e.exports=JSON.parse('{"a":"_ucksi"}')}}));
//# sourceMappingURL=index_1ab8cec4.js.map