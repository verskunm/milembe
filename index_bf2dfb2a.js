!function(t,e){for(var o in e)t[o]=e[o]}(window,function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://assets.allegrostatic.com/opbox-countdown/",o(o.s=0)}({0:function(t,e,o){t.exports=o("O14P")},O14P:function(t,e,o){"use strict";o.r(e);var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e,this.template=e.getAttribute("data-template"),this.datetime=e.getAttribute("data-datetime"),this.digitColor=e.getAttribute("data-digitcolor"),this.digitBackground=e.getAttribute("data-digitbackground"),this.digitBorder=e.getAttribute("data-digitborder"),this.reload=e.getAttribute("data-reload"),this.delay=e.getAttribute("data-delay")}var e;return(e=[{key:"getRemainingTime",value:function(){var t,e,o=Date.parse(this.datetime)-Date.parse(((e=new Date(t=new Date)).setMinutes(t.getMinutes()-t.getTimezoneOffset()),e)),i=Math.floor(o/1e3%60),n=Math.floor(o/1e3/60%60),r=Math.floor(o/36e5%24);return{total:o,days:Math.floor(o/864e5),hours:r,minutes:n,seconds:i}}},{key:"renderDigitStyles",value:function(){var t=[this.digitColor&&"color: ".concat(this.digitColor,";"),this.digitBackground&&"background-color: ".concat(this.digitBackground,";"),this.digitBorder&&"border: 1px solid ".concat(this.digitBorder,";")].filter(Boolean);return t.length>0?'style="'.concat(t.join(" "),'"'):""}},{key:"renderDigit",value:function(t){var e=this,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t<10?"0".concat(t):t,n=i.toString().split("").map((function(t){return'<span class="'.concat(e.digitClasses,'"').concat(e.digitStyles,">").concat(t,"</span>")})),r=o?'<div class="'.concat(this.separatorClasses,'">:</div>'):"";return"".concat(n.join("")).concat(r)}},{key:"updateClock",value:function(){var t=this.getRemainingTime();t.total>=0?(0===t.days?(this.optionalSelector.innerHTML="","box"===this.template&&(this.daysLegend.innerHTML="")):this.daysSelector.innerHTML=this.renderDigit(t.days),this.hoursSelector.innerHTML=this.renderDigit(t.hours),this.minutesSelector.innerHTML=this.renderDigit(t.minutes),this.secondsSelector.innerHTML=this.renderDigit(t.seconds,!1)):clearInterval(this.timeinterval),"true"===this.reload&&Math.abs(t.total)<this.delay&&setTimeout((function(){document.hasFocus()?window.location.reload():document.addEventListener("visibilitychange",(function(){return window.location.reload()}))}),this.delay)}},{key:"initialize",value:function(){this.optionalSelector=this.node.querySelector('[data-role="opbox-countdown-optional"]'),this.daysSelector=this.node.querySelector('[data-role="opbox-countdown-days"]'),this.daysLegend=this.node.querySelector('[data-role="opbox-countdown-daysLegend"]'),this.hoursSelector=this.node.querySelector('[data-role="opbox-countdown-hours"]'),this.minutesSelector=this.node.querySelector('[data-role="opbox-countdown-minutes"]'),this.secondsSelector=this.node.querySelector('[data-role="opbox-countdown-seconds"]'),this.visibleClass=this.node.getAttribute("data-visible-class-name"),this.digitStyles=this.renderDigitStyles(),this.digitClasses="".concat("_8f114_17zbL"," ").concat(this.visibleClass),this.separatorClasses="".concat("_8f114_2IG_Y"," ").concat(this.visibleClass),this.updateClock(),this.timeinterval=setInterval(this.updateClock.bind(this),1e3)}}])&&function(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();window.opbox.component.init({prototypeName:"allegro.countdown"},(function(t){t.domNodes.forEach((function(t){t.querySelectorAll('[data-role="countdown"]').forEach((function(t){new i(t).initialize()}))}))}))}}));
//# sourceMappingURL=index_bf2dfb2a.js.map