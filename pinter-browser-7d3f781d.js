!function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function t(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)){var r=[],e=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(e=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);e=!0);}catch(n){o=!0,i=n}finally{try{e||null==u.return||u.return()}finally{if(o)throw i}}return r}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=Object.assign,e=Math.min,o=Math.round,i=function(n){return n.length},a=function(n){return n[0]},u=function(n){return n[1]},c=function(n){return n.startTime},f=function(n){var t=n.name.split("@"),e=a(t),i=u(t);return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.value,r=n.label,e=void 0===r?"Mark":r,o=n.params;return{category:"Performance",label:e,value:t,customParams:o}}({value:e,params:r({st:o(c(n))},i?{sr:i}:{})})},l=function(n){return function(t){return Array.from(n.querySelectorAll(t))}},s=function(n){return n.getEntriesByType},m=function(n,t){return s(n).call(n,t)},d=["optimizely:","Zone:"],v=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];function p(n){var t,r=(t=n.timing,v.map((function(n){return{name:n,value:t[n]}}))),e=a(r).value;return r.slice(1).map((function(n){return function(n,t){var r=t-n;return!t||t<0||n<0||r<0?-1:r}(e,n.value)}))}var y="".concat("script").concat("[src]"),S="".concat("script",":not(").concat("[src]",")"),g="".concat("link",'[rel="stylesheet"]'),b="img",h=function(n){return n.join(",")};function E(n){return"number"==typeof n&&n>=0?e(o(1e3*n),1e6):-1}var T=["allegro.pl","assets.allegrostatic.pl","cdn.allegrostatic.com","assets.allegrostatic.com"];var k=function(e,v){var k=e.performance,w=e.document,j=function(n){return function(n,t){null!==n&&"function"==typeof t.cm?t.cm("send","event",n):console.log("Cannot send performance data",n)}(n,e)},z=function(n){var e,o=n,f=new Set,l=function(n){f.add(v(n))},v=function(n){return[n.name,n.entryType,c(n),n.duration].join("###")},p=function(n){return{duration:n.duration,entryType:n.entryType,name:n.name,startTime:c(n)}};return function(){if(!s(o))return[];var n=m(o,"mark").filter((function(n){return!function(n){return d.some((function(t){return n.name.substring(0,i(t))===t}))}(n)&&!function(n){return f.has(v(n))}(n)})).sort((function(n,t){return c(n)-c(t)}));if(0===i(n))return n;var y,S=(y=function(n){return"clientSideNavigationStart"===n.name},n.reduce((function(n,r){var e=t(n,2),o=e[0],i=e[1];return y(r)?[o.concat([r]),i]:[o,i.concat([r])]}),[[],[]])),g=a(S),b=u(S);return n.forEach(l),i(g)>0?(e=c(function(n){return n[i(n)-1]}(g)),b.map((function(n){var t=function(t,r){for(var e=i(r)-1;e>=0;e--){var o=r[e];if(c(o)<c(n))return o}return null}(0,g);return t?r(p(n),{startTime:c(n)-c(t)}):p(n)}))):e?n.map((function(n){return r(p(n),{startTime:c(n)-e})})):n.map(p)}}(k),L=function(){return z().map(f).forEach(j)},A=function(){j(function(n){return{category:"Performance",label:"NavigationTiming",customParams:{m:p(n),v:1}}}(k)),j(function(r,e,f){if(!s(f))return null;var d=function(n,t){var r=l(n),e=l(n.body),o=a(m(t,"navigation"))||{},u=i(r(S)),c=i(r("script"))-u;return[r("*"),n.documentElement.innerHTML,o.encodedBodySize||-1,o.transferSize||-1,r("style"),r(g),u,c,r(h([b,"image"])),r("video"),r("iframe"),r(h(["meta","noscript","head","base","title","script","link","style"])),i(e("*"))-i(e(h(["link","style","script","noscript"])))].map((function(n){var t=i(n);return void 0===t?n:t}))}(r,f),v=function(t){if("object"!==n(t.connection))return Array(5).fill(null);var r=t.connection,e=r.type,o=void 0===e?"":e,i=r.effectiveType,a=void 0===i?"":i,u=r.downlinkMax,c=void 0===u?-1:u,f=r.downlink,l=void 0===f?-1:f,s=r.rtt,m=void 0===s?-1:s;return[o,a,E(c),E(l),m]}(e),p=function(n){var t=function(t){var r=a(n.getEntriesByName(t,"paint"));return r?o(c(r)):-1};return[t("first-paint"),t("first-contentful-paint")]}(f),k=function(n,r){var e=m(r,"resource"),o=l(n),c=function(n){return function(t){return t.initiatorType===n}},f=c(b),s=c("image"),d=e.filter(c("link")),v=function(n){var t=[],r=[];return n.forEach((function(n){for(var e=0;e<i(T);e++){var o=T[e];if(n.name.startsWith("https://".concat(o,"/"))){t.push(n);break}}e===i(T)&&r.push(n)})),[t,r]}(e.filter(c("script"))),p=e.filter((function(n){return f(n)||s(n)}));return[[d,g],[a(v),y],[u(v),y],[p,b]].map((function(n){return function(n,r){var e=function(n,t){var r=t.reduce((function(n,t){return n[t.href||t.src]=!0,n}),{});return n.filter((function(n){return!0===r[n.name]}))}(n,r),o=function(n){return n.reduce((function(n,r){var e=t(n,2),o=e[0],i=e[1];return[o+(r.encodedBodySize||0),i+(r.transferSize||0)]}),[0,0])}(e);return function(n){var t=0,r=0,e=0;return n.forEach((function(n){n.transferSize>0?r++:n.encodedBodySize>0?t++:e++})),[t,r,e]}(e).concat(o)}(a(n),o(u(n)))}))}(r,f);return{category:"Performance",label:"ResourceInformation",customParams:{v:1,bs:[0],ds:d,nct:a(v),net:u(v),ns:v.slice(2),ps:p,tst:a(k),tis:u(1),tes:k[2],tim:k[3]}}}(w,e.navigator,k))};return"complete"===w.readyState?A():e.addEventListener("load",(function(){e.setTimeout(A,0)})),e.setInterval((function(){L()}),500),L(),L}(window);window.pinter={sendUserTimings:k}}();
